<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace : Mapper I/F와 동일하도록 설정 -->
<mapper namespace="wind.yang.quartzdemo.mapper.TriggerGroupMapper">
    <select id="findAll" resultType="wind.yang.quartzdemo.dto.TriggerGroup">
        select TRIGGER_GROUP, DESCRIPTION, USE_YN, RGT_DTM, UDT_DTM
        from TB_TRIGGER_GROUP
        where 1=1
        <if test="triggerGroup != null">
            AND TRIGGER_GROUP = #{triggerGroup}
        </if>
        <if test="description != null">
            AND DESCRIPTION = #{description}
        </if>
        <if test="useYn != null">
            AND USE_YN = #{useYn}
        </if>
        order by USE_YN DESC, TRIGGER_GROUP ASC;
    </select>

    <select id="findByTriggerGroup" resultType="wind.yang.quartzdemo.dto.TriggerGroup">
        select TRIGGER_GROUP, DESCRIPTION, USE_YN
        from TB_TRIGGER_GROUP
        where 1=1
        <if test="triggerGroup != ALL">
            AND TRIGGER_GROUP = #{triggerGroup}
        </if>
        and USE_YN = 'Y';
    </select>

    <select id="insertTriggerGroup" resultType="wind.yang.quartzdemo.dto.TriggerGroup">
        insert into tb_trigger_group
        values (#{triggerGroup}, #{description}, #{useYn}, #{rgtDtm}, #{udtDtm});
    </select>

    <select id="updateTriggerGroup" resultType="wind.yang.quartzdemo.dto.TriggerGroup">
        update tb_trigger_group
        set description = #{description},
            use_yn = #{useYn},
            udt_dtm = #{udtDtm}
        where trigger_group = #{triggerGroup};
    </select>

    <select id="deleteTriggerGroup" resultType="wind.yang.quartzdemo.dto.TriggerGroup">
        delete from tb_trigger_group
        where trigger_group = #{triggerGroup};
    </select>
</mapper>